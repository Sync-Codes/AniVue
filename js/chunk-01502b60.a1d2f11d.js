(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01502b60"],{"10a7":function(t,a,e){},"2aa1":function(t,a,e){"use strict";e("3891")},3891:function(t,a,e){},"43a1":function(t,a,e){"use strict";e("10a7")},b109:function(t,a,e){"use strict";e("f123")},c66d:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[this.$store.state.user.loggedIn?e("profile-info"):e("login")],1)},i=[],r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{"fill-height":"",fluid:""}},[e("v-row",[e("v-col",[e("div",[e("center",[t.loading?e("div",[e("media-loading")],1):e("div",[e("h1",{staticClass:"primary--text"},[t._v("Log in to Anivue")]),e("p",{staticClass:"secondary--text"},[t._v(" You will be redirected to Anilist login page ")]),e("v-btn",{staticClass:"navbar white--text",attrs:{href:t.url,elevation:"24"}},[e("v-icon",{attrs:{small:"",left:"",color:"white"}},[t._v("mdi-login")]),e("span",[t._v("Login")])],1)],1)])],1)])],1)],1)},n=[],o=(e("ac1f"),e("5319"),e("1276"),e("96cf"),e("1da1")),c=e("f5e1"),l=e("05ef"),u={components:{MediaLoading:c["a"]},data:function(){return{loading:!1,url:"https://anilist.co/api/v2/oauth/authorize?client_id=".concat(this.$store.state.anilistClientId,"&response_type=token")}},methods:{getToken:function(){var t=this.$route.path.split("&")[1],a=t.replace(/access_token=(.+)/g,"$1");this.setUser(a)},setUser:function(t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.loading=!0,e.next=3,Object(l["a"])(t);case 3:s=e.sent,s.res.ok?(i={loggedIn:!0,token:t,data:s.data.Viewer},a.$cookies.set("user",i),a.$store.commit("setUser",i)):(a.loading=!1,alert("Wrong token")),a.$router.replace({path:"/profile"});case 6:case"end":return e.stop()}}),e)})))()}},watch:{"this.$route":{handler:function(){this.$route.path.split("&").length>1&&this.getToken()},immediate:!0}}},d=u,v=e("2877"),m=e("6544"),f=e.n(m),h=e("8336"),p=e("62ad"),g=e("a523"),b=e("132d"),_=e("0fd9"),w=Object(v["a"])(d,r,n,!1,null,null,null),C=w.exports;f()(w,{VBtn:h["a"],VCol:p["a"],VContainer:g["a"],VIcon:b["a"],VRow:_["a"]});var y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{staticClass:"mb-0 pa-0",attrs:{fluid:""}},[e("v-row",{staticClass:"mb-0"},[e("v-img",{staticClass:"bannerDiv d-flex align-end",attrs:{src:t.user.bannerImage,"aspect-ratio":1265/266,gradient:t.gradient,height:"300"}},[e("v-col",{staticClass:"pa-0"},[e("v-card",{staticClass:"d-flex justify-start transparent elevation-0 px-10",attrs:{tile:""}},[e("v-avatar",{attrs:{tile:"",size:"150"}},[e("v-img",{attrs:{src:t.user.avatar.large}})],1),e("div",{staticClass:"d-flex align-end justify-center ml-5"},[e("h3",{staticClass:"white--text  text-md-h2 text-h5"},[t._v(" "+t._s(t.user.name)+" ")])])],1)],1)],1)],1),e("v-row",{staticClass:"mt-0"},[e("v-col",{staticClass:"pt-0"},[e("v-tabs",{attrs:{"show-arrows":"","background-color":"transparent",grow:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab",{attrs:{href:"#favorites"}},[e("v-icon",{attrs:{small:"",left:"",color:"primary"}},[t._v("mdi-star")]),t._v(" Favorites ")],1),e("v-tab",{attrs:{href:"#settings"}},[e("v-icon",{attrs:{small:"",left:"",color:"primary"}},[t._v("mdi-cog")]),t._v(" Settings ")],1)],1)],1)],1),e("v-row",[e("v-col",{staticClass:"px-10 pt-8"},[e("v-tabs-items",{staticClass:"transparent",attrs:{mandatory:""},model:{value:t.tab,callback:function(a){t.tab=a},expression:"tab"}},[e("v-tab-item",{attrs:{transition:!1,value:"favorites"}},[e("media-list",{attrs:{type:"favorites"}})],1),e("v-tab-item",{attrs:{transition:!1,value:"settings"}},[e("settings")],1)],1)],1)],1)],1)},V=[],x=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"mb-5"},["favorites"===t.type?e("favorites-grid"):t._e()],1)},$=[],k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",t._l(t.medias,(function(a,s){return e("div",{key:s,staticClass:"mb-10"},[a.data.length?e("div",[e("p",{staticClass:"primary--text text-h6 font-weight-light"},[t._v(" "+t._s(a.name)+" ")]),e("v-row",{staticClass:"accent rounded"},t._l(a.data.length,(function(t){return e("v-col",{key:t,attrs:{cols:"4",sm:"2",md:"1"}},[e("list-card",{attrs:{media:a.data[t-1]}})],1)})),1)],1):t._e()])})),0)},j=[],I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,i=a.attrs;return[e("v-card",t._g(t._b({attrs:{width:"85",to:{name:"mediafullpage",params:{type:t.type,id:t.id}}}},"v-card",i,!1),s),[e("v-img",{attrs:{"aspect-ratio":85/115,width:"85",height:"115",src:t.image.large,"lazy-src":t.image.medium}})],1)]}}])},[e("span",[t._v(" "+t._s(t.title)+" ")])])},O=[],L=(e("b0c0"),{props:{media:{type:Object,required:!0}},computed:{type:function(){return"type"in this.media?this.media.type.toLowerCase():"characters"},id:function(){return this.media.id},title:function(){return"characters"===this.type?this.media.name.full:this.media.title.english||this.media.title.romaji},image:function(){return"characters"===this.type?this.media.image:this.media.coverImage}}}),E=L,T=e("b0af"),R=e("adda"),F=e("3a2f"),A=Object(v["a"])(E,I,O,!1,null,null,null),S=A.exports;f()(A,{VCard:T["a"],VImg:R["a"],VTooltip:F["a"]});var U={components:{ListCard:S},data:function(){return{medias:{anime:{name:"Anime",data:[]},manga:{name:"Manga",data:[]},characters:{name:"Characters",data:[]}}}},computed:{favorites:function(){return this.$store.state.user.data.favourites}},methods:{updateFavs:function(){this.medias.anime.data=this.favorites.anime.nodes,this.medias.manga.data=this.favorites.manga.nodes,this.medias.characters.data=this.favorites.characters.nodes}},mounted:function(){this.updateFavs()},watch:{favorites:function(){this.updateFavs()}}},z=U,M=Object(v["a"])(z,k,j,!1,null,null,null),q=M.exports;f()(M,{VCol:p["a"],VContainer:g["a"],VRow:_["a"]});var B={components:{FavoritesGrid:q},props:{type:{type:String,required:!0}},data:function(){return{icons:{favorites:"mdi-star"}}}},J=B,P=(e("43a1"),Object(v["a"])(J,x,$,!1,null,"2793f10a",null)),D=P.exports,G=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{"fill-height":""}},[e("v-row",[e("v-col",{staticClass:"d-flex justify-center"},[e("v-btn",{staticClass:"navbar my-5 white--text",on:{click:t.logout}},[e("v-icon",{attrs:{color:"white",left:""}},[t._v("mdi-logout")]),t._v(" Logout ")],1)],1)],1)],1)},W=[],Y={methods:{logout:function(){this.$cookies.remove("user"),this.$store.commit("clearUser"),this.$router.replace({path:"/home"})}}},H=Y,K=Object(v["a"])(H,G,W,!1,null,null,null),N=K.exports;f()(K,{VBtn:h["a"],VCol:p["a"],VContainer:g["a"],VIcon:b["a"],VRow:_["a"]});var Q={components:{MediaList:D,Settings:N},data:function(){return{user:this.$store.state.user.data,tab:null}},computed:{gradient:function(){var t=this.$store.state.colors.gradient.bannerImage;return this.$vuetify.theme.dark?t.dark:t.light}}},X=Q,Z=(e("2aa1"),e("8212")),tt=e("71a3"),at=e("c671"),et=e("fe57"),st=e("aac8"),it=Object(v["a"])(X,y,V,!1,null,"3b8a3a45",null),rt=it.exports;f()(it,{VAvatar:Z["a"],VCard:T["a"],VCol:p["a"],VContainer:g["a"],VIcon:b["a"],VImg:R["a"],VRow:_["a"],VTab:tt["a"],VTabItem:at["a"],VTabs:et["a"],VTabsItems:st["a"]});var nt={name:"Profile",components:{Login:C,ProfileInfo:rt}},ot=nt,ct=(e("b109"),Object(v["a"])(ot,s,i,!1,null,"aa2ada56",null));a["default"]=ct.exports},f123:function(t,a,e){}}]);
//# sourceMappingURL=chunk-01502b60.a1d2f11d.js.map